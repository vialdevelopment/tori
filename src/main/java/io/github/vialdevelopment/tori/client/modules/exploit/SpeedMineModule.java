package io.github.vialdevelopment.tori.client.modules.exploit;

import io.github.vialdevelopment.attendance.attender.Attend;
import io.github.vialdevelopment.attendance.attender.Attender;
import io.github.vialdevelopment.tori.api.runnable.module.Category;
import io.github.vialdevelopment.tori.api.runnable.module.Module;
import io.github.vialdevelopment.tori.client.events.TickEvent;
import io.github.vialdevelopment.tori.mixin.duck.ClientPlayerInteractionManagerDuck;

public class SpeedMineModule extends Module {
    public SpeedMineModule() {
        super("SpeedMine", "Mines but faster", Category.EXPLOIT);
    }

    @Attend
    private final Attender<TickEvent> tickAttender = new Attender<>(TickEvent.class, event -> {

        final ClientPlayerInteractionManagerDuck interactionManager = (ClientPlayerInteractionManagerDuck) mc.interactionManager;

        if (interactionManager != null) {
            if (interactionManager.getCurrentBreakingProgress() > 0.75f) {
                interactionManager.setCurrentBreakingProgress(1.0f);
            }
        }
    });
}
